<link rel='stylesheet' type="text/css" href="app/areas/admin/inventory/inventory.css" />
<standard-layout>
    <h2>{{model.title}}</h2>
    <aside class="usa-width-one-fourth">
        <ul class="usa-sidenav-list">
            <li><a href="" ng-click="model.showTable()" ng-class="{'usa-current' : model.tab == 3}">Catalog</a></li>
            <li><a href="" ng-click="model.showFilter()" ng-class="{'usa-current' : model.tab == 4}">Search</a></li>
            <li><a href="" ng-click="model.showAddEdit({}, false)" ng-class="{'usa-current' : model.tab == 2}">Add Product</a></li>
            <li><a href="" ng-click="model.showImport()" ng-class="{'usa-current' : model.tab == 1}">Import Products</a></li>
            <li><a href="" ng-click="model.showImportImages()" ng-class="{'usa-current' : model.tab == 5}">Import Images</a></li>
            <li><a href="" ng-click="model.showPrototypeTasks()" ng-class="{'usa-current' : model.tab == 7}">Prototype Tasks</a></li>
        </ul>
    </aside>
    <div class="usa-width-two-thirds">
    <div ng-show="model.tab == 1">
        <h3 class="usa-heading">Import Products</h3>
        <form name="fileImportForm" id="fileImportForm">
            <label for="selectedfile" class="usa-sr-only">Upload File</label>
            <input type="file" id="selectedfile" name="selectedfile" /><br />
            <button type="button" ng-click="model.importFile()" class="usa-button-secondary">Import CSV Inventory File</button>
        </form>
    </div>
    <div ng-show="model.tab == 5">
        <h3 class="usa-heading">Import Images</h3>
        <form name="imageImportForm" id="imageImportForm">
            <label for="selectedimages" class="usa-sr-only">Upload Image</label>
            <input type="file" id="selectedimages" name="selectedimages" multiple /><br />
            <button type="button" ng-click="model.importImages()" class="usa-button-secondary">Import Images</button>
        </form>
    </div>
    <div ng-show="model.tab == 6">
        <pre>{{model.importProgress}}</pre>
    </div>
    <div ng-show="model.tab == 7">
        <h3 class="usa-heading">Prototype Tasks</h3>
        <button ng-click="model.resetDatabase()">Reset Database</button>
    </div>
    <div ng-show="model.tab == 2">
        <h3 class="usa-heading"><span ng-show="model.editing">Edit</span><span ng-show="!model.editing">Add</span> Product</h3>
        <form name="addProductForm" id="addProductForm" novalidate
              ng-submit="addProductForm.$valid && model.addProduct()">
            <table>
                <tr>
                    <td class="table-header"><label for="title">Title</label></td>
                    <td><input type="text" ng-model="model.product.Title" id="title" required /></td>
                    <td class="table-header"><label for="contract">Contract</label></td>
                    <td>
                        <select id="contract" ng-model="model.product.ContractNumber" ng-options="contract for contract in model.contracts" required>
                            <option value="">Select Contract</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="table-header"><label for="contractor">Contractor</label></td>
                    <td>
                        <select id="contractor" ng-model="model.product.Contractor" ng-options="contractor for contractor in model.contractors" required>
                            <option value="">Select Contractor</option>
                        </select>
                    </td>
                    <td class="table-header"><label for="clin">CLIN</label></td>
                    <td><input id="clin" type="text" ng-model="model.product.CLIN" required /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="contractdiscount">Contract Discount</label></td>
                    <td><input id="contractdiscount" type="text" ng-model="model.product.ContractDiscount" required /></td>
                    <td class="table-header"><label for="contractexpiration">Contract Expiration</label></td>
                    <td><input id="contractexpiration" type="text" ng-model="model.product.ContractExpiration" required /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="listprice">List Price</label></td>
                    <td><input id="listprice" type="text" ng-model="model.product.ListPrice" required /></td>
                    <td class="table-header"><label for="contractprice">Contract Price</label></td>
                    <td><input id="contractprice" type="text" ng-model="model.product.ContractPrice" required /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="manufacturer">Manufacturer</label></td>
                    <td><input id="manufacturer" type="text" ng-model="model.product.Manufacturer" required /></td>
                    <td class="table-header"><label for="partnumber">Part Number</label></td>
                    <td><input id="partnumber" type="text" ng-model="model.product.ManufacturerPartNumber" required /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="sku">SKU</label></td>
                    <td><input id="sku" type="text" ng-model="model.product.SKU" required /></td>
                    <td class="table-header"><label for="unspsc">UNSPSC</label></td>
                    <td><input id="unspsc" type="text" ng-model="model.product.UNSPSC" required /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="producttype">Product Type</label></td>
                    <td>
                        <select id="producttype" ng-model="model.product.ProductType" ng-options="prod for prod in model.productTypes" required>
                            <option value="">Select Product Type</option>
                        </select>
                    </td>
                    <td class="table-header"><label for="category">Category</label></td>
                    <td>
                        <select id="category" ng-model="model.product.Category" ng-options="category for category in model.categories" required>
                            <option value="">Select Category</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="table-header"><label for="unitofmeasure">Unit of Measure</label></td>
                    <td>
                        <select id="unitofmeasure" ng-model="model.product.UnitOfMeasure" ng-options="unit for unit in model.unitsOfMeasure" required>
                            <option value="">Select Unit of Measure</option>
                        </select>
                    </td>
                    <td class="table-header"><label for="quantityperoum">Quantity per UOM</label></td>
                    <td><input id="quantityperoum" type="text" ng-model="model.product.QuantityPerUnitOfMeasure" required /></td>
                </tr>
                <tr>
                    <td rowspan="2" class="table-header"><label for="description">Description</label></td>
                    <td rowspan="2"><textarea id="description" ng-model="model.product.Description" required></textarea></td>
                    <td class="table-header"><label for="imagefilename">Image File Name</label></td>
                    <td>
                        <select id="imagefilename" ng-model="model.product.ImageFileName" ng-options="name for name in model.imageFileNames" required>
                            <option value="">Select Image File Name</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="table-header">&nbsp;<label for="noimage" class="usa-sr-only">No image</label></td>
                    <td>
                        <input id="noimage" type="hidden" ng-model="model.product.Id" />
                        <img height="100" width="100" ng-src="/api/image/{{model.product.ImageFileName}}" alt="No Image Selected" />
                    </td>
                </tr>
                    <td colspan="4">
                        <input type="submit" value="Add Item" ng-disabled="!addProductForm.$valid" ng-hide="model.editing" class="usa-button-secondary right" />
                        <input type="submit" value="Save Changes" ng-disabled="!addProductForm.$valid" ng-show="model.editing" class="usa-button-secondary right" />
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <div ng-show="model.tab == 3">
        <h3 class="usa-heading">Catalog</h3>
        <table>
            <thead> 
                <tr>
                    <th><a href="" ng-click="model.setOrderByColumn('Title')">Title</a></th>
                    <th><a href="" ng-click="model.setOrderByColumn('Category')">Category</a></th>
                    <th><a href="" ng-click="model.setOrderByColumn('ProductType')">Product Type</a></th>
                    <th><a href="" ng-click="model.setOrderByColumn('Manufacturer')">Manufacturer</a></th>
                    <th><a href="" ng-click="model.setOrderByColumn('ContractDiscount')">Contract Discount</a></th>
                    <th>Options</th>
                </tr>
            </thead>
            <tr ng-repeat="row in model.products">
                <td title="{{row.Description}}">{{row.Title}}</td>
                <td>{{row.Category}}</td>
                <td>{{row.ProductType}}</td>
                <td>{{row.Manufacturer}}</td>
                <td>{{row.ContractDiscount}}</td>
                <td><a href="" ng-click="model.edit(row.Id)">Edit</a>&nbsp;&nbsp;<a href="" ng-click="model.delete(row.Id)">Delete</a></td>
            </tr>
        </table>
        <p>
            &nbsp;<a href="" ng-click="model.firstPage()">|&lt;</a>
            &nbsp;<a href="" ng-click="model.priorPage()">&lt;&lt;</a>
            &nbsp;<span>Page {{model.page + 1}} of {{model.pageCount}}</span>
            &nbsp;<a href="" ng-click="model.nextPage()">&gt;&gt;</a>
            &nbsp;<a href="" ng-click="model.lastPage()">&gt;|</a>
        </p>
    </div>
    <div ng-show="model.tab == 4">
        <h3 class="usa-heading">Search Products</h3>
        <form name="filterProductForm" id="filterProductForm" ng-submit="model.filterProducts()" novalidate>
            <table>
                <tr>
                    <td class="table-header"><label for="search-title">Title</label></td>
                    <td><input id="search-title" type="text" ng-model="model.filter.Title" /></td>
                    <td class="table-header"><label for="search-contract">Contract</label></td>
                    <td>
                        <select id="search-contract" ng-model="model.filter.ContractNumber" ng-options="contract for contract in model.contracts" >
                            <option value="">Select Contract</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="table-header"><label for="search-contractor">Contractor</label></td>
                    <td>
                        <select id="search-contractor" ng-model="model.filter.Contractor" ng-options="contractor for contractor in model.contractors" >
                            <option value="">Select Contractor</option>
                        </select>
                    </td>
                    <td class="table-header"><label for="search-clin">CLIN</label></td>
                    <td><input id="search-clin" type="text" ng-model="model.filter.CLIN" /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="search-contractdiscount">Contract Discount</label></td>
                    <td><input id="search-contractdiscount" type="text" ng-model="model.filter.ContractDiscount" /></td>
                    <td class="table-header"><label for="search-contractexpiration">Contract Expiration</label></td>
                    <td><input id="search-contractexpiration" type="text" ng-model="model.filter.ContractExpiration" /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="search-listprice">List Price</label></td>
                    <td><input id="search-listprice" type="text" ng-model="model.filter.ListPrice" /></td>
                    <td class="table-header"><label for="search-contractprice">Contract Price</label></td>
                    <td><input id="search-contractprice" type="text" ng-model="model.filter.ContractPrice" /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="search-manufacturer">Manufacturer</label></td>
                    <td><input id="search-manufacturer" type="text" ng-model="model.filter.Manufacturer" /></td>
                    <td class="table-header"><label for="search-partnumber">Part Number</label></td>
                    <td><input id="search-partnumber" type="text" ng-model="model.filter.ManufacturerPartNumber" /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="search-sku">SKU</label></td>
                    <td><input id="search-sku" type="text" ng-model="model.filter.SKU" /></td>
                    <td class="table-header"><label for="search-unspsc">UNSPSC</label></td>
                    <td><input id="search-unspsc" type="text" ng-model="model.filter.UNSPSC" /></td>
                </tr>
                <tr>
                    <td class="table-header"><label for="search-producttype">Product Type</label></td>
                    <td>
                        <select id="search-producttype" ng-model="model.filter.ProductType" ng-options="prod for prod in model.productTypes" >
                            <option value="">Select Product Type</option>
                        </select>
                    </td>
                    <td class="table-header"><label for="search-category">Category</label></td>
                    <td>
                        <select id="search-category" ng-model="model.filter.Category" ng-options="category for category in model.categories" >
                            <option value="">Select Category</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="table-header"><label for="search-unitofmeasure">Unit of Measure</label></td>
                    <td>
                        <select id="search-unitofmeasure" ng-model="model.filter.UnitOfMeasure" ng-options="unit for unit in model.unitsOfMeasure" >
                            <option value="">Select Unit of Measure</option>
                        </select>
                    </td>
                    <td class="table-header"><label for="search-quantityperuom">Quantity per UOM</label></td>
                    <td><input id="search-quantityperuom" type="text" ng-model="model.filter.QuantityPerUnitOfMeasure" /></td>
                </tr>
                <!--<tr>
                    <td colspan="4">
                        <textarea ng-model="model.product.Description" required cols="160" rows="3"></textarea>
                    </td>
                </tr>-->
                <tr>
                    <td class="table-header"><label for="search-description">Description</label></td>
                    <td><textarea id="search-description" ng-model="model.filter.Description" required></textarea></td>
                    <td>&nbsp;</td>
                    <td>
                        <input type="submit" value="Search" class="usa-button-secondary" />
                        <a href="" ng-click="model.clearFilter()">Clear Search</a>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</div>
</standard-layout>
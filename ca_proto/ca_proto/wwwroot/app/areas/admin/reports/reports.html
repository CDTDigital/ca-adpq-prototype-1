<link rel='stylesheet' type="text/css" href="app/areas/admin/inventory/inventory.css" />
<standard-layout>
    <h2>{{model.title}}</h2>
    <aside class="usa-width-one-fourth">
        <ul class="usa-sidenav-list">
            <li><a href="" ng-click="model.showFilter()" ng-class="{'usa-current' : model.tab == 1}">Data Filter</a></li>
            <li><a href="" ng-click="model.showExpendituresByProductType()" ng-class="{'usa-current' : model.tab == 2}">Expenditures by Product Type</a></li>
            <li><a href="" ng-click="model.showExpendituresByContractor()" ng-class="{'usa-current' : model.tab == 3}">Expenditures by Contractor</a></li>
            <li><a href="" ng-click="model.showPurchasesByAccount()" ng-class="{'usa-current' : model.tab == 4}">Purchases by Account</a></li>
            <li><a href="" ng-click="model.showRawData()" ng-class="{'usa-current' : model.tab == 5}">Raw Data</a></li>
        </ul>    
    </aside>

    <div class="usa-width-two-thirds" style="margin-top:-80px">
        <div ng-show="model.tab == 1">
            <h3 class="usa-heading">Data Filter</h3>
            <form id="orderProductQueryForm" name="orderProductQueryForm"
                   ng-submit="orderProductQueryForm.$valid && model.fetchOrderProducts()" novalidate>
                <table>
                    <tr><th>Start Date</th><td><input type="text" ng-model="model.orderProductQuery.Start" required /></td></tr>
                    <tr><th>End Date</th><td><input type="text" ng-model="model.orderProductQuery.End" required /></td></tr>
                    <tr><th></th><td><input type="submit" value="Run Report" ng-disabled="!orderProductQueryForm.$valid" /></td></tr>
                    <tr><th colspan="2">{{model.responseMessage}}</th></tr>
                </table>
            </form>
        </div>

        <div ng-show="model.tab == 2">
            <h3 class="usa-heading">Expenditures by Product Type</h3>
            <canvas id="productTypeCanvas" height="{{model.height}}" width="{{model.width}}" >

            </canvas><br/>
        </div>

        <div ng-show="model.tab == 3">
            <h3 class="usa-heading">Expenditures by Contractor</h3>
            <canvas id="contractorCanvas" height="{{model.height}}" width="{{model.width}}"></canvas><br />
            <table style="width:{{model.width}};text-align:center">
                <tr style="width:{{model.width}}"><td ng-repeat="contractor in model.contractors" style="width:{{model.contractorColumnWidth}}px">{{contractor}}</td></tr>
            </table>
        </div>

        <div ng-show="model.tab == 4">
            <h3 class="usa-heading">Purchases by Account</h3>
            <canvas id="purchasesCanvas" height="{{model.height}}" width="{{model.width}}"></canvas><br />
        </div>

        <div ng-show="model.tab == 5">
            <h3 class="usa-heading">Raw Data</h3>
            <table style="font-size:small">
                <thead>
                    <tr>
                        <!--<th><a href="" ng-click="model.setOrder('OrderId')">OrderId</a></th>-->
                        <th><a href="" ng-click="model.setOrder('CreateDate')">Create Date</a></th>
                        <th><a href="" ng-click="model.setOrder('PaymentMethod')">Payment Account</a></th>
                        <th><a href="" ng-click="model.setOrder('Status')">Status</a></th>
                        <th><a href="" ng-click="model.setOrder('Price')">Price</a></th>
                        <th><a href="" ng-click="model.setOrder('Quantity')">Quantity</a></th>
                        <th><a href="" ng-click="model.setOrder('Total')">Total</a></th>
                        <th><a href="" ng-click="model.setOrder('ProductType')">Product Type</a></th>
                        <th><a href="" ng-click="model.setOrder('Contractor')">Contractor</a></th>
                    </tr>
                </thead>
                <tr ng-repeat="row in model.orderProductsOnPage">
                    <!--<td>{{row.OrderId}}</td>-->
                    <td>{{row.CreateDate}}</td>
                    <td>{{row.PaymentMethod}}</td>
                    <td>{{row.Status}}</td>
                    <td>{{row.Price|currency}}</td>
                    <td>{{row.Quantity}}</td>
                    <td>{{row.Total|currency}}</td>
                    <td>{{row.ProductType}}</td>
                    <td>{{row.Contractor}}</td>
                </tr>
            </table>
            <p>
                &nbsp;<a href="" ng-click="model.firstPage()">|&lt;</a>
                &nbsp;<a href="" ng-click="model.priorPage()">&lt;&lt;</a>
                &nbsp;<span>Page {{model.pageIndex + 1}} of {{model.numberOfPages}}</span>
                &nbsp;<a href="" ng-click="model.nextPage()">&gt;&gt;</a>
                &nbsp;<a href="" ng-click="model.lastPage()">&gt;|</a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Items Per Page:
                <select style="width:100px;min-width:0px;display:initial" id="pageCount" ng-model="model.pageCount" ng-options="count for count in model.pageCounts" ng-change="model.firstPage()" >
                </select>
            </p>
        </div>
    </div>
</standard-layout>